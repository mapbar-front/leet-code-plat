{"version":3,"sources":["webpack:///./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","webpack:///./src/components/parser/example/Index.vue?46b2","webpack:///./src/components/parser/example/Index.vue?a2b6","webpack:///./src/components/parser/Parser.vue","webpack:///./src/components/parser/Parser.vue?9af1","webpack:///src/components/parser/example/Index.vue","webpack:///./src/components/parser/example/Index.vue?4039","webpack:///./src/components/parser/example/Index.vue","webpack:///src/components/parser/Parser.vue"],"names":["_extends","Object","assign","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","this","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","indexOf","Array","e","concat","f","g","h","i","mergeFn","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","formConf","on","sumbitForm1","key","key2","sumbitForm2","change","_v","staticRenderFns","component","components","Parser","props","data","Date","fields","__methods__","clickTestButton1","console","log","formData","$refs","elForm","formRef","formModel","size","labelPosition","labelWidth","formRules","gutter","disabled","span","formBtns","unFocusedComponentBorder","formConf2","computed","watch","created","mounted","setTimeout","mobile","methods","fillFormData","form","forEach","val","item","__config__","defaultValue","t","colFormItem","config","showLabel","rowFormItem","scheme","type","child","renderFrom","renderFormItem","elementList","map","layout","Error","renderChildren","isArray","children","setValue","$set","event","__vModel__","buildListeners","keys","listeners","input","required","formConfCopy","initFormData","buildRules","componentList","cur","regList","message","undefined","push","rules","pattern","eval","trigger","ruleTrigger","tag","resetForm","resetFields","submitForm","validate","valid"],"mappings":"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","file":"js/parser-example.6653ea08.js","sourcesContent":["\"use strict\";function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=d.concat(e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=g.concat(h)}else c[b][f]=a[b][f];}else if(\"hook\"==b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=d283007e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=d283007e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"test-form\"},[_c('parser',{attrs:{\"form-conf\":_vm.formConf},on:{\"submit\":_vm.sumbitForm1}}),_c('parser',{key:_vm.key2,attrs:{\"form-conf\":_vm.formConf},on:{\"submit\":_vm.sumbitForm2}}),_c('el-button',{on:{\"click\":_vm.change}},[_vm._v(\"\\n    change\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./Parser.vue?vue&type=script&lang=js&\"\nexport * from \"./Parser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parser.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"test-form\">\n    <parser :form-conf=\"formConf\" @submit=\"sumbitForm1\" />\n    <parser :key=\"key2\" :form-conf=\"formConf\" @submit=\"sumbitForm2\" />\n    <el-button @click=\"change\">\n      change\n    </el-button>\n  </div>\n</template>\n\n<script>\nimport Parser from '../Parser'\n\n// 若parser是通过安装npm方式集成到项目中的，使用此行引入\n// import Parser from 'form-gen-parser'\n\nexport default {\n  components: {\n    Parser\n  },\n  props: {},\n  data () {\n    return {\n      key2: +new Date(),\n      formConf: {\n        fields: [\n          {\n            __config__: {\n              label: '单行文本',\n              labelWidth: null,\n              showLabel: true,\n              changeTag: true,\n              tag: 'el-input',\n              tagIcon: 'input',\n              required: true,\n              layout: 'colFormItem',\n              span: 24,\n              document: 'https://element.eleme.cn/#/zh-CN/component/input',\n              regList: [\n                {\n                  pattern: '/^1(3|4|5|7|8|9)\\\\d{9}$/',\n                  message: '手机号格式错误'\n                }\n              ]\n            },\n            __slot__: {\n              prepend: '',\n              append: ''\n            },\n            __vModel__: 'mobile',\n            placeholder: '请输入手机号',\n            style: {\n              width: '100%'\n            },\n            clearable: true,\n            'prefix-icon': 'el-icon-mobile',\n            'suffix-icon': '',\n            maxlength: 11,\n            'show-word-limit': true,\n            readonly: false,\n            disabled: false\n          },\n          {\n            __config__: {\n              label: '日期范围',\n              tag: 'el-date-picker',\n              tagIcon: 'date-range',\n              defaultValue: null,\n              span: 24,\n              showLabel: true,\n              labelWidth: null,\n              required: true,\n              layout: 'colFormItem',\n              regList: [],\n              changeTag: true,\n              document:\n                'https://element.eleme.cn/#/zh-CN/component/date-picker',\n              formId: 101,\n              renderKey: 1585980082729\n            },\n            style: {\n              width: '100%'\n            },\n            type: 'daterange',\n            'range-separator': '至',\n            'start-placeholder': '开始日期',\n            'end-placeholder': '结束日期',\n            disabled: false,\n            clearable: true,\n            format: 'yyyy-MM-dd',\n            'value-format': 'yyyy-MM-dd',\n            readonly: false,\n            __vModel__: 'field101'\n          },\n          {\n            __config__: {\n              layout: 'rowFormItem',\n              tagIcon: 'row',\n              label: '行容器',\n              layoutTree: true,\n              children: [\n                {\n                  __config__: {\n                    label: '评分',\n                    tag: 'el-rate',\n                    tagIcon: 'rate',\n                    defaultValue: 0,\n                    span: 24,\n                    showLabel: true,\n                    labelWidth: null,\n                    layout: 'colFormItem',\n                    required: true,\n                    regList: [],\n                    changeTag: true,\n                    document: 'https://element.eleme.cn/#/zh-CN/component/rate',\n                    formId: 102,\n                    renderKey: 1586839671259\n                  },\n                  style: {},\n                  max: 5,\n                  'allow-half': false,\n                  'show-text': false,\n                  'show-score': false,\n                  disabled: false,\n                  __vModel__: 'field102'\n                }\n              ],\n              document: 'https://element.eleme.cn/#/zh-CN/component/layout',\n              formId: 101,\n              span: 24,\n              renderKey: 1586839668999,\n              componentName: 'row101',\n              gutter: 15\n            },\n            type: 'default',\n            justify: 'start',\n            align: 'top'\n          },\n          {\n            __config__: {\n              label: '按钮',\n              showLabel: true,\n              changeTag: true,\n              labelWidth: null,\n              tag: 'el-button',\n              tagIcon: 'button',\n              span: 24,\n              layout: 'colFormItem',\n              document: 'https://element.eleme.cn/#/zh-CN/component/button',\n              renderKey: 1594288459289\n            },\n            __slot__: {\n              default: '测试按钮1'\n            },\n            type: 'primary',\n            icon: 'el-icon-search',\n            round: false,\n            size: 'medium',\n            plain: false,\n            circle: false,\n            disabled: false,\n            on: {\n              click: 'clickTestButton1'\n            }\n          }\n        ],\n        __methods__: {\n          clickTestButton1 () {\n            console.log(\n              `%c【测试按钮1】点击事件里可以访问当前表单：\n                1) formModel='formData', 所以this.formData可以拿到当前表单的model\n                2) formRef='elForm', 所以this.$refs.elForm可以拿到当前表单的ref(vue组件)\n              `,\n              'color:#409EFF;font-size: 15px'\n            )\n            console.log('表单的Model：', this.formData)\n            console.log('表单的ref：', this.$refs.elForm)\n          }\n        },\n        formRef: 'elForm',\n        formModel: 'formData',\n        size: 'small',\n        labelPosition: 'right',\n        labelWidth: 100,\n        formRules: 'rules',\n        gutter: 15,\n        disabled: false,\n        span: 24,\n        formBtns: true,\n        unFocusedComponentBorder: false\n      },\n      formConf2: {\n        fields: [\n          {\n            __config__: {\n              label: '单行文本',\n              labelWidth: null,\n              showLabel: true,\n              changeTag: true,\n              tag: 'el-input',\n              tagIcon: 'input',\n              required: true,\n              layout: 'colFormItem',\n              span: 24,\n              document: 'https://element.eleme.cn/#/zh-CN/component/input',\n              regList: [\n                {\n                  pattern: '/^1(3|4|5|7|8|9)\\\\d{9}$/',\n                  message: '手机号格式错误'\n                }\n              ]\n            },\n            __slot__: {\n              prepend: '',\n              append: ''\n            },\n            __vModel__: 'mobile',\n            placeholder: '请输入手机号',\n            style: {\n              width: '100%'\n            },\n            clearable: true,\n            'prefix-icon': 'el-icon-mobile',\n            'suffix-icon': '',\n            maxlength: 11,\n            'show-word-limit': true,\n            readonly: false,\n            disabled: false\n          },\n          {\n            __config__: {\n              label: '日期范围',\n              tag: 'el-date-picker',\n              tagIcon: 'date-range',\n              defaultValue: null,\n              span: 24,\n              showLabel: true,\n              labelWidth: null,\n              required: true,\n              layout: 'colFormItem',\n              regList: [],\n              changeTag: true,\n              document:\n                'https://element.eleme.cn/#/zh-CN/component/date-picker',\n              formId: 101,\n              renderKey: 1585980082729\n            },\n            style: {\n              width: '100%'\n            },\n            type: 'daterange',\n            'range-separator': '至',\n            'start-placeholder': '开始日期',\n            'end-placeholder': '结束日期',\n            disabled: false,\n            clearable: true,\n            format: 'yyyy-MM-dd',\n            'value-format': 'yyyy-MM-dd',\n            readonly: false,\n            __vModel__: 'field101'\n          }\n        ],\n        formRef: 'elForm',\n        formModel: 'formData',\n        size: 'small',\n        labelPosition: 'right',\n        labelWidth: 100,\n        formRules: 'rules',\n        gutter: 15,\n        disabled: false,\n        span: 24,\n        formBtns: true,\n        unFocusedComponentBorder: false\n      }\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {\n    // 表单数据回填，模拟异步请求场景\n    setTimeout(() => {\n      // 请求回来的表单数据\n      const data = {\n        mobile: '18836662555'\n      }\n      // 回填数据\n      this.fillFormData(this.formConf, data)\n      // 更新表单\n      this.key2 = +new Date()\n    }, 2000)\n  },\n  methods: {\n    fillFormData (form, data) {\n      form.fields.forEach(item => {\n        const val = data[item.__vModel__]\n        if (val) {\n          item.__config__.defaultValue = val\n        }\n      })\n    },\n    change () {\n      this.key2 = +new Date()\n      const t = this.formConf\n      this.formConf = this.formConf2\n      this.formConf2 = t\n    },\n    sumbitForm1 (data) {\n      console.log('sumbitForm1提交数据：', data)\n    },\n    sumbitForm2 (data) {\n      console.log('sumbitForm2提交数据：', data)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.test-form {\n  width: 800px;\n  margin: 15px auto;\n  padding: 15px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=d283007e&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=d283007e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d283007e\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { deepClone } from '@/utils/index'\nimport render from '@/components/render/render.js'\n\nconst ruleTrigger = {\n  'el-input': 'blur',\n  'el-input-number': 'blur',\n  'el-select': 'change',\n  'el-radio-group': 'change',\n  'el-checkbox-group': 'change',\n  'el-cascader': 'change',\n  'el-time-picker': 'change',\n  'el-date-picker': 'change',\n  'el-rate': 'change'\n}\n\nconst layouts = {\n  colFormItem (h, scheme) {\n    const config = scheme.__config__\n    const listeners = buildListeners.call(this, scheme)\n\n    let labelWidth = config.labelWidth ? `${config.labelWidth}px` : null\n    if (config.showLabel === false) labelWidth = '0'\n    return (\n      <el-col span={config.span}>\n        <el-form-item label-width={labelWidth} prop={scheme.__vModel__}\n          label={config.showLabel ? config.label : ''}>\n          <render conf={scheme} {...{ on: listeners }} />\n        </el-form-item>\n      </el-col>\n    )\n  },\n  rowFormItem (h, scheme) {\n    let child = renderChildren.apply(this, arguments)\n    if (scheme.type === 'flex') {\n      child = <el-row type={scheme.type} justify={scheme.justify} align={scheme.align}>\n        {child}\n      </el-row>\n    }\n    return (\n      <el-col span={scheme.span}>\n        <el-row gutter={scheme.gutter}>\n          {child}\n        </el-row>\n      </el-col>\n    )\n  }\n}\n\nfunction renderFrom (h) {\n  const { formConfCopy } = this\n\n  return (\n    <el-row gutter={formConfCopy.gutter}>\n      <el-form\n        size={formConfCopy.size}\n        label-position={formConfCopy.labelPosition}\n        disabled={formConfCopy.disabled}\n        label-width={`${formConfCopy.labelWidth}px`}\n        ref={formConfCopy.formRef}\n        // model不能直接赋值 https://github.com/vuejs/jsx/issues/49#issuecomment-472013664\n        props={{ model: this[formConfCopy.formModel] }}\n        rules={this[formConfCopy.formRules]}\n      >\n        {renderFormItem.call(this, h, formConfCopy.fields)}\n        {formConfCopy.formBtns && formBtns.call(this, h)}\n      </el-form>\n    </el-row>\n  )\n}\n\nfunction formBtns (h) {\n  return <el-col>\n    <el-form-item size=\"large\">\n      <el-button type=\"primary\" onClick={this.submitForm}>提交</el-button>\n      <el-button onClick={this.resetForm}>重置</el-button>\n    </el-form-item>\n  </el-col>\n}\n\nfunction renderFormItem (h, elementList) {\n  return elementList.map(scheme => {\n    const config = scheme.__config__\n    const layout = layouts[config.layout]\n\n    if (layout) {\n      return layout.call(this, h, scheme)\n    }\n    throw new Error(`没有与${config.layout}匹配的layout`)\n  })\n}\n\nfunction renderChildren (h, scheme) {\n  const config = scheme.__config__\n  if (!Array.isArray(config.children)) return null\n  return renderFormItem.call(this, h, config.children)\n}\n\nfunction setValue (event, config, scheme) {\n  this.$set(config, 'defaultValue', event)\n  this.$set(this[this.formConf.formModel], scheme.__vModel__, event)\n}\n\nfunction buildListeners (scheme) {\n  const config = scheme.__config__\n  const methods = this.formConf.__methods__ || {}\n  const listeners = {}\n\n  // 给__methods__中的方法绑定this和event\n  Object.keys(methods).forEach(key => {\n    listeners[key] = event => methods[key].call(this, event)\n  })\n  // 响应 render.js 中的 vModel $emit('input', val)\n  listeners.input = event => setValue.call(this, event, config, scheme)\n\n  return listeners\n}\n\nexport default {\n  components: {\n    render\n  },\n  props: {\n    formConf: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    const data = {\n      formConfCopy: deepClone(this.formConf),\n      [this.formConf.formModel]: {},\n      [this.formConf.formRules]: {}\n    }\n    this.initFormData(data.formConfCopy.fields, data[this.formConf.formModel])\n    this.buildRules(data.formConfCopy.fields, data[this.formConf.formRules])\n    return data\n  },\n  methods: {\n    initFormData (componentList, formData) {\n      componentList.forEach(cur => {\n        const config = cur.__config__\n        if (cur.__vModel__) formData[cur.__vModel__] = config.defaultValue\n        if (config.children) this.initFormData(config.children, formData)\n      })\n    },\n    buildRules (componentList, rules) {\n      componentList.forEach(cur => {\n        const config = cur.__config__\n        if (Array.isArray(config.regList)) {\n          if (config.required) {\n            const required = { required: config.required, message: cur.placeholder }\n            if (Array.isArray(config.defaultValue)) {\n              required.type = 'array'\n              required.message = `请至少选择一个${config.label}`\n            }\n            required.message === undefined && (required.message = `${config.label}不能为空`)\n            config.regList.push(required)\n          }\n          rules[cur.__vModel__] = config.regList.map(item => {\n            item.pattern && (item.pattern = eval(item.pattern))\n            item.trigger = ruleTrigger && ruleTrigger[config.tag]\n            return item\n          })\n        }\n        if (config.children) this.buildRules(config.children, rules)\n      })\n    },\n    resetForm () {\n      this.formConfCopy = deepClone(this.formConf)\n      this.$refs[this.formConf.formRef].resetFields()\n    },\n    submitForm () {\n      this.$refs[this.formConf.formRef].validate(valid => {\n        if (!valid) return false\n        // 触发sumit事件\n        this.$emit('submit', this[this.formConf.formModel])\n        return true\n      })\n    }\n  },\n  render (h) {\n    return renderFrom.call(this, h)\n  }\n}\n</script>\n"],"sourceRoot":""}